(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(21),i=n.n(s),l=(n(29),n(17)),o=n(2),d=n(12),u=n(13),j=n(16),h=n.n(j),b=n(10),f=n(22),p=function(e){var t,n=e.letter,a=e.empArr,r=e.handleCheck;if(a){var s=a.sort((function(e,t){return e.lastName>t.lastName?1:t.lastName>e.lastName?-1:0}));t=Object(c.jsx)("ul",{className:"list",children:s.map((function(e){return Object(c.jsxs)("li",{children:[e.lastName," ",e.firstName,Object(c.jsx)("input",{type:"checkbox",id:e.id,checked:e.checked,onChange:r})]},e.id)}))})}else t=Object(c.jsx)("span",{children:"---"});return Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)("h4",{children:n}),t]})},O=function(e){var t=e.data,n=e.handleCheck,a="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r={};return t.forEach((function(e){var t=e.lastName[0].toUpperCase();r[t]?r[t].push(e):r[t]=[e]})),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"Employees"}),Object(c.jsx)("div",{className:"wrapper",children:a.map((function(e){return Object(c.jsx)(p,{letter:e,empArr:r[e],handleCheck:n},e)}))})]})},m=function(e){var t=e.empArr.sort((function(e,t){return e.dob>t.dob?1:t.dob>e.dob?-1:0})),n=t[0].dob.toLocaleString("en-us",{month:"long"});return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:n}),Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsxs)("li",{children:[e.lastName," ",e.firstName," - ",e.dob.getDate()," ",n,","," ",e.dob.getFullYear()," year"]},e.id)}))})]})},x=function(e){var t=e.data,n={};return t.filter((function(e){return e.checked})).forEach((function(e){var t=e.dob.getMonth();n[t]?n[t].push(e):n[t]=[e]})),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"Employees birthday"}),Object(d.a)(Array(12).keys()).filter((function(e){return n[e]})).map((function(e){return Object(c.jsx)(m,{empArr:n[e]},e)})),!Object.keys(n).length&&Object(c.jsx)("div",{children:"No selected employees"})]})},v=function(){var e=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://yalantis-react-school-api.yalantis.com/api/task0/users",e.next=4,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 4:if(!(t=e.sent).ok){e.next=13;break}return e.next=8,t.json();case 8:n=e.sent,c=JSON.parse(localStorage.getItem("checkedIds"))||[],a=n.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{checked:c.includes(e.id),dob:new Date(e.dob)})})),s(a),j(!1);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),g(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),t=r.a.useState([]),n=Object(u.a)(t,2),a=n[0],s=n[1],i=r.a.useState(!0),l=Object(u.a)(i,2),o=l[0],j=l[1],p=r.a.useState(""),m=Object(u.a)(p,2),v=m[0],g=m[1];r.a.useEffect((function(){e()}),[]);return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"left",children:[o?"Loading...":Object(c.jsx)(O,{data:a,handleCheck:function(e){var t=a.findIndex((function(t){return t.id===e.target.id})),n=Object(d.a)(a);n[t]=Object(b.a)(Object(b.a)({},n[t]),{},{checked:e.target.checked}),s(n);var c=n.filter((function(e){return e.checked})).map((function(e){return e.id}));localStorage.setItem("checkedIds",JSON.stringify(c))}}),v&&Object(c.jsx)("div",{style:{color:"red"},children:v})]}),Object(c.jsx)("div",{className:"right",children:Object(c.jsx)(x,{data:a})})]})},g=(n(31),function(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:"/employees",component:v}),Object(c.jsx)(o.a,{path:"*",children:Object(c.jsx)(l.b,{to:"employees",children:"Employees"})})]})})}),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),k()}},[[37,1,2]]]);
//# sourceMappingURL=main.a34beb6f.chunk.js.map